@using Chirp.Core.Extensions
@model Chirp.Core.Dto.CheepDto

@{
    var user = User.GetUser();
}

@if (user is not null && !user.GetUserNonNull().Username.Equals(Model.AuthorUsername))
{
    <form asp-controller="Cheep" asp-action="Follow" style="display:inline;">
        <input type="hidden" name="CheepAuthorId" value="@Model.AuthorId"/>
        <input name="__RequestVerificationToken" type="hidden"/>
        @Html.AntiForgeryToken()
        <button type="submit" style="background:none;border:none;color: green;padding:0;margin-left: 10px;cursor:pointer">
            Follow @(Model.AuthorName)
        </button>
    </form>
}